<% content_for :css do %>
    <meta name="description" content="Web Developer"/>
    <!-- images/jaysonpresto-gradpic.jpg -->
    <link rel="shortcut icon" type="image/png" href="<%= asset_url(current_logo) %>" style= "width: 20px;margin-right: 10px; width: 30px;height: 30px;border-radius: 50%;">
    <!-- <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="css/reset.css" type="text/css">
    <link rel="stylesheet" href="css/bootstrap-grid.min.css" type="text/css">
    <link rel="stylesheet" href="css/animations.css" type="text/css">
    <link rel="stylesheet" href="css/perfect-scrollbar.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.css" type="text/css">
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="css/main.css" type="text/css">

    <script src="js/modernizr.custom.js"></script>

<% end %>
<% content_for :body do %>
 <!-- Animated Background -->
 <div class="lm-animated-bg" style="background-image: url(img/main_bg.png);"></div>
 <!-- /Animated Background -->

 <!-- Loading animation -->
 <div class="preloader">
   <div class="preloader-animation">
     <div class="preloader-spinner">
     </div>
   </div>
 </div>
 <!-- /Loading animation -->

 <div class="page">
   <div class="page-content">

       <header id="site_header" class="header mobile-menu-hide">
         <%= render partial: 'shared/header_content' %>
         <%= render partial: 'jaysonpresto/main_menu' %>
       </header>

       <!-- Mobile Navigation -->
       <div class="menu-toggle">
         <span></span>
         <span></span>
         <span></span>
       </div>
       <!-- End Mobile Navigation -->

       <!-- Arrows Nav -->
       <div class="lmpixels-arrows-nav">
         <div class="lmpixels-arrow-right"><i class="lnr lnr-chevron-right"></i></div>
         <div class="lmpixels-arrow-left"><i class="lnr lnr-chevron-left"></i></div>
       </div>
       <!-- End Arrows Nav -->

       <div class="content-area">
         <div class="animated-sections">
           <!-- Home Subpage -->
           <!-- <section data-id="home" class="animated-section start-page">
             <div class="section-content vcentered">

                 <div class="row">
                   <div class="col-sm-12 col-md-12 col-lg-12">
                     <div class="title-block">
                       <h2>What Can I Do?</h2>
                       <div class="owl-carousel text-rotation">
                         <% [
                              'Creating Fully Functional Ruby on Rails Application', 
                              'Continuing Existing Ruby on Rails Application',
                              'Offering Ruby on Rails Tutorials',
                              'Participating As An Independent Contractor'
                            ].each do |code_name| %>
                            <div class="item">
                              <div class="sp-subtitle"><%= code_name %></div>
                            </div>
                          <% end %>
                       </div>
                       <br>
                       <h4>Getting Interested?</h4>
                       <%= link_to 'Contact Me', "javascript:void(0);", onClick: "visit_contact_page(this)" %>
                     </div>
                   </div>
                 </div>

             </div>
           </section> -->
           <!-- End of Home Subpage -->
           <section data-id="home" class="animated-section start-page" style="padding: 0">
            <iframe id="my-intro-animation" src='https://www.youtube.com/embed/BHgSZ2qLTzk' frameborder='0' allowfullscreen></iframe>
          </section>
           <!-- About Me Subpage -->
           <section data-id="about-me" class="animated-section">
             <div class="page-title">
               <h2>About <span>Me</span></h2>
             </div>

             <div class="section-content">
               <!-- Personal Information -->
                <%= render partial: 'jaysonpresto/about/me' %>
               <!-- End of Personal Information -->

               <div class="white-space-50"></div>

               <!-- Services -->
               <%= render partial: 'jaysonpresto/about/what_ido' %>
               <!-- End of Services -->

               <div class="white-space-30"></div>

               <!-- Testimonials -->
               <% render partial: 'jaysonpresto/about/testimonials' %>
               <!-- End of Testimonials -->

               <div class="white-space-50"></div>

               <!-- Clients -->
               <% render partial: 'jaysonpresto/about/clients' %>
               <!-- End of Clients -->

               <!-- <div class="white-space-50"></div> -->

               <!-- Pricing -->
               <% render partial: 'jaysonpresto/about/pricing' %>
               <!-- End of Pricing -->

               <!-- <div class="white-space-50"></div> -->

               <!-- Fun Facts -->
               <% render partial: 'jaysonpresto/about/fun_facts' %>
               <!-- End of Fun Facts -->

             </div>
           </section>
           <!-- End of About Me Subpage -->

           <!-- Resume Subpage -->
           <section data-id="resume" class="animated-section">
            <% render partial: 'jaysonpresto/resume' %>
           </section>
           <!-- End of Resume Subpage -->

           <!-- Portfolio Subpage -->
           <section data-id="portfolio" class="animated-section">
            <% render partial: 'jaysonpresto/portfolio' %>
           </section>
           <!-- End of Portfolio Subpage -->

           <!-- Blog Subpage -->
           <section data-id="blog" class="animated-section">
            <% render partial: 'jaysonpresto/blog' %>
           </section>
           <!-- End of Blog Subpage -->

           <!-- Contact Subpage -->
           <%= render partial: 'jaysonpresto/contact' %>
           <!-- End of Contact Subpage -->
         </div>
       </div>

   </div>
 </div>

<!-- Load Facebook SDK for JavaScript -->
<div id="fb-root"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      xfbml            : true,
      version          : 'v8.0'
    });
  };

  (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<!-- Your Chat Plugin code -->
<div class="fb-customerchat"
  attribution=setup_tool
  page_id="598734393497071"
theme_color="#ff7e29"
logged_in_greeting="Hi, my name is Jayson. A Mid Senior Ruby on Rails Developer. How Can I Help You?"
logged_out_greeting="Hi, my name is Jayson. A Mid Senior Ruby on Rails Developer. How Can I Help You?">
</div>

<% end %>
<% content_for :js do %>
<script src="js/jquery-2.1.3.min.js"></script>
<script src="js/modernizr.custom.js"></script>
<script src="js/animating.js"></script>
<script type="text/javascript">
  function visit_contact_page(){
    $('#contact-me').trigger('click');
  }
</script>
<script src="js/imagesloaded.pkgd.min.js"></script>
<script src='https://www.google.com/recaptcha/api.js'></script>

<script src='js/perfect-scrollbar.min.js'></script>
<script src='js/jquery.shuffle.min.js'></script>
<script src='js/masonry.pkgd.min.js'></script>
<script src='js/owl.carousel.min.js'></script>
<script src="js/jquery.magnific-popup.min.js"></script>

<!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA1Sq0uGGtaA12uVNiWTNXpBjCfO1iP5e4"></script> -->
<!-- <script src="js/jquery.googlemap.js"></script> -->
<script src="js/validator.js"></script>
<script type="text/javascript">
  (function($) {
    // Portfolio subpage filters
    function portfolio_init() {
        var portfolio_grid = $('.portfolio-grid'),
            portfolio_filter = $('.portfolio-filters');
            
        if (portfolio_grid) {

            portfolio_grid.shuffle({
                speed: 450,
                itemSelector: 'figure'
            });

            portfolio_filter.on("click", ".filter", function (e) {
                portfolio_grid.shuffle('update');
                e.preventDefault();
                $('.portfolio-filters .filter').parent().removeClass('active');
                $(this).parent().addClass('active');
                portfolio_grid.shuffle('shuffle', $(this).attr('data-group') );
            });

        }
    }
    // /Portfolio subpage filters


    // Hide Mobile menu
    function mobileMenuHide() {
        var windowWidth = $(window).width(),
            siteHeader = $('#site_header');

        if (windowWidth < 1025) {
            siteHeader.addClass('mobile-menu-hide');
            $('.menu-toggle').removeClass('open');
            setTimeout(function(){
                siteHeader.addClass('animate');
            }, 500);
        } else {
            siteHeader.removeClass('animate');
        }
    }
    // /Hide Mobile menu

    // Custom scroll
    function customScroll() {
        var windowWidth = $(window).width();
        if (windowWidth > 1024) {
            $('.animated-section, .single-page-content').each(function() {
                $(this).perfectScrollbar();
            });
        } else {
            $('.animated-section, .single-page-content').each(function() {
                $(this).perfectScrollbar('destroy');
            });
        }
    }
    // /Custom scroll

    // Contact form validator
    $(function () {

        $('#contact_form').validator();

        $('#contact_form').on('submit', function (e) {
            if (!e.isDefaultPrevented()) {
                var url = "contact_form/contact_form.php";

                $.ajax({
                    type: "POST",
                    url: url,
                    data: $(this).serialize(),
                    success: function (data)
                    {
                        var messageAlert = 'alert-' + data.type;
                        var messageText = data.message;

                        var alertBox = '<div class="alert ' + messageAlert + ' alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>' + messageText + '</div>';
                        if (messageAlert && messageText) {
                            $('#contact_form').find('.messages').html(alertBox);
                            $('#contact_form')[0].reset();
                        }
                    }
                });
                return false;
            }
        });
    });
    // /Contact form validator

    //On Window load & Resize
    $(window)
        .on('load', function() { //Load
            // Animation on Page Loading
            $(".preloader").fadeOut( 800, "linear" );

            // initializing page transition.
            var ptPage = $('.animated-sections');
            if (ptPage[0]) {
                PageTransitions.init({
                    menu: 'ul.main-menu',
                });
            }
        })
        .on('resize', function() { //Resize
             mobileMenuHide();
             $('.animated-section').each(function() {
                $(this).perfectScrollbar('update');
            });
            customScroll();
        });


    // On Document Load
    $(document).on('ready', function() {
        var movementStrength = 23;
        var height = movementStrength / $(document).height();
        var width = movementStrength / $(document).width();
        $("body").on('mousemove', function(e){
            var pageX = e.pageX - ($(document).width() / 2),
                pageY = e.pageY - ($(document).height() / 2),
                newvalueX = width * pageX * -1,
                newvalueY = height * pageY * -1,
                elements = $('.lm-animated-bg');

            elements.addClass('transition');
            elements.css({
                "background-position": "calc( 50% + " + newvalueX + "px ) calc( 50% + " + newvalueY + "px )",
            });

            setTimeout(function() {
                elements.removeClass('transition');
            }, 300);
        })

        // Mobile menu
        $('.menu-toggle').on("click", function () {
            $('#site_header').addClass('animate');
            $('#site_header').toggleClass('mobile-menu-hide');
            $('.menu-toggle').toggleClass('open');
        });

        // Mobile menu hide on main menu item click
        $('.main-menu').on("click", "a", function (e) {
            mobileMenuHide();
        });

        // Sidebar toggle
        $('.sidebar-toggle').on("click", function () {
            $('#blog-sidebar').toggleClass('open');
        });

        // Initialize Portfolio grid
        var $portfolio_container = $(".portfolio-grid");
        $portfolio_container.imagesLoaded(function () {
            portfolio_init(this);
        });

        // Blog grid init
        var $container = $(".blog-masonry");
        $container.imagesLoaded(function(){
            $container.masonry();
        });

        customScroll();

        // Text rotation
        $('.text-rotation').owlCarousel({
            loop: true,
            dots: false,
            nav: false,
            margin: 0,
            items: 1,
            autoplay: true,
            autoplayHoverPause: false,
            autoplayTimeout: 3800,
            animateOut: 'animated-section-scaleDown',
            animateIn: 'animated-section-scaleUp'
        });

        // Testimonials Slider
        $(".testimonials.owl-carousel").owlCarousel({
            nav: true, // Show next/prev buttons.
            items: 3, // The number of items you want to see on the screen.
            loop: false, // Infinity loop. Duplicate last and first items to get loop illusion.
            navText: false,
            autoHeight: true,
            margin: 25,
            responsive : {
                // breakpoint from 0 up
                0 : {
                    items: 1,
                },
                // breakpoint from 480 up
                480 : {
                    items: 1,
                },
                // breakpoint from 768 up
                768 : {
                    items: 2,
                },
                1200 : {
                    items: 2,
                }
            }
        });

        // Clients Slider
        $(".clients.owl-carousel").imagesLoaded().owlCarousel({
            nav: true, // Show next/prev buttons.
            items: 2, // The number of items you want to see on the screen.
            loop: false, // Infinity loop. Duplicate last and first items to get loop illusion.
            navText: false,
            margin: 10,
            autoHeight: true,
            responsive : {
                // breakpoint from 0 up
                0 : {
                    items: 2,
                },
                // breakpoint from 768 up
                768 : {
                    items: 4,
                },
                1200 : {
                    items: 5,
                }
            }
        });


        //Form Controls
        $('.form-control')
            .val('')
            .on("focusin", function(){
                $(this).parent('.form-group').addClass('form-group-focus');
            })
            .on("focusout", function(){
                if($(this).val().length === 0) {
                    $(this).parent('.form-group').removeClass('form-group-focus');
                }
            });

        // Lightbox init
        $('body').magnificPopup({
            delegate: 'a.lightbox',
            type: 'image',
            removalDelay: 300,

            // Class that is added to popup wrapper and background
            // make it unique to apply your CSS animations just to this exact popup
            mainClass: 'mfp-fade',
            image: {
                // options for image content type
                titleSrc: 'title',
                gallery: {
                    enabled: true
                },
            },

            iframe: {
                markup: '<div class="mfp-iframe-scaler">'+
                        '<div class="mfp-close"></div>'+
                        '<iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe>'+
                        '<div class="mfp-title mfp-bottom-iframe-title"></div>'+
                      '</div>', // HTML markup of popup, `mfp-close` will be replaced by the close button

                patterns: {
                    youtube: {
                      index: 'youtube.com/', // String that detects type of video (in this case YouTube). Simply via url.indexOf(index).

                      id: null, // String that splits URL in a two parts, second part should be %id%
                      // Or null - full URL will be returned
                      // Or a function that should return %id%, for example:
                      // id: function(url) { return 'parsed id'; }

                      src: '%id%?autoplay=1' // URL that will be set as a source for iframe.
                    },
                    vimeo: {
                      index: 'vimeo.com/',
                      id: '/',
                      src: '//player.vimeo.com/video/%id%?autoplay=1'
                    },
                    gmaps: {
                      index: '//maps.google.',
                      src: '%id%&output=embed'
                    }
                },

                srcAction: 'iframe_src', // Templating object key. First part defines CSS selector, second attribute. "iframe_src" means: find "iframe" and set attribute "src".
            },

            callbacks: {
                markupParse: function(template, values, item) {
                 values.title = item.el.attr('title');
                }
            },
        });
    });
})(jQuery);
</script>
<% end %>